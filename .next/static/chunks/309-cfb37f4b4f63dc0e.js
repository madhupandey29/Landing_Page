"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{6309:(e,s,t)=>{t.d(s,{ContactForm:()=>d});var a=t(6386),l=t(8394);let r="fabricpro_contact_form",n="http://localhost:7000/landing".replace(/\/+$/,""),i=`${n}/contacts`,o="rajeshsir",c="rajeshmgoyal@gmail.com";function d({onSuccess:e,submitAction:s,saveDraftAction:t,submitUrl:n=i,submitHeaders:m,draftKey:u="contact_draft_id"}={}){let[x,b]=(0,l.useState)(1),[h,p]=(0,l.useState)({companyName:"",contactPerson:"",email:"",phone:"",businessType:"",annualVolume:"",primaryMarkets:"",fabricTypes:[],specifications:"",timeline:"",message:""}),[f,g]=(0,l.useState)(!0),[j,y]=(0,l.useState)(null),[v,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1),[S,T]=(0,l.useState)(!1),[C,M]=(0,l.useState)("");(0,l.useEffect)(()=>{try{let e=localStorage.getItem(r);if(e){let s=JSON.parse(e);p(e=>s.formData??e),b(s.currentStep||1),y(s.lastSaved?new Date(s.lastSaved):null)}let s=localStorage.getItem(u)||"";s&&M(s)}catch(e){}finally{g(!1)}},[u]);let q=(0,l.useCallback)(()=>{try{let e={formData:h,currentStep:x,lastSaved:new Date().toISOString()};localStorage.setItem(r,JSON.stringify(e)),y(new Date),N(!1)}catch(e){}},[h,x]);(0,l.useEffect)(()=>{if(f)return;N(!0);let e=setTimeout(()=>{q()},1e3);return()=>clearTimeout(e)},[h,x,q,f]);let I=e=>{let{name:s,value:t}=e.target;p(e=>({...e,[s]:t}))};function P(e,s){return{companyName:h.companyName,contactPerson:h.contactPerson,email:h.email,phoneNumber:h.phone,businessType:h.businessType,annualFabricVolume:h.annualVolume,primaryMarkets:h.primaryMarkets,fabricTypesOfInterest:h.fabricTypes,specificationsRequirements:h.specifications,timeline:h.timeline,additionalMessage:h.message,status:e,stepCompleted:s,draftId:C}}let E=async e=>{if(!t)return;let s=P("draft",e),a=new FormData;Object.entries(s).forEach(([e,s])=>{Array.isArray(s)?s.forEach(s=>a.append(e,String(s))):null!=s&&a.set(e,String(s))});let l=await t(a);l?.ok&&l?.id&&!C&&(M(l.id),localStorage.setItem(u,l.id))},A=async()=>{let e=Math.min(x+1,3);await E(Math.max(x,e)),b(e)},F=async()=>{let e=Math.max(x-1,1);await E(Math.max(x,e)),b(e)};async function O(e){let s=await fetch(n||i,{method:"POST",headers:function(e){let s={"Content-Type":"application/json"};return o&&(s["x-api-key"]=o),c&&(s["x-admin-email"]=c),{...s,...e||{}}}(m),body:JSON.stringify(e)}),t=await s.json().catch(()=>({}));if(!s.ok)throw Error(t?.message||`Backend error ${s.status}`);return t}let D=async t=>{if(t.preventDefault(),3===x){k(!0);try{let t=P("submitted",3);if(s){let e=new FormData;Object.entries(t).forEach(([s,t])=>{Array.isArray(t)?t.forEach(t=>e.append(s,String(t))):null!=t&&e.set(s,String(t))});let a=await s(e);a?.ok||await O(t)}else await O(t);localStorage.removeItem(r),localStorage.removeItem(u),T(!0),setTimeout(()=>{T(!1),e?.()},3e3)}catch(e){alert("There was an error submitting your form. Please try again.")}finally{k(!1)}}};return f?(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"ml-3 text-slate-600",children:"Loading form..."})]})}):S?(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Quote Request Submitted!"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Thank you! Weâ€™ll get back to you within 24 hours."})]})}):(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-yellow-600",children:"Saving..."})]}):j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-green-600",children:["Saved ",j.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}):null})})}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-colors ${x>=e?"bg-blue-600 text-white":"bg-slate-200 text-slate-600"}`,children:e}),e<3&&(0,a.jsx)("div",{className:`w-16 h-1 mx-2 transition-colors ${x>e?"bg-blue-600":"bg-slate-200"}`})]},e))}),(0,a.jsxs)("div",{className:"text-sm text-slate-600",children:["Step ",x," of 3:"," ",1===x?"Company Information":2===x?"Business Details":"Requirements"]})]}),(0,a.jsxs)("form",{onSubmit:D,children:[1===x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Company Name *"}),(0,a.jsx)("input",{type:"text",name:"companyName",value:h.companyName,onChange:I,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Your company name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Contact Person *"}),(0,a.jsx)("input",{type:"text",name:"contactPerson",value:h.contactPerson,onChange:I,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Your full name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",name:"email",value:h.email,onChange:I,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"your@company.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number *"}),(0,a.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:I,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"+1 (555) 123-4567"})]})]}),2===x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Business Type *"}),(0,a.jsxs)("select",{name:"businessType",value:h.businessType,onChange:I,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[(0,a.jsx)("option",{value:"",children:"Select business type"}),(0,a.jsx)("option",{value:"garment-manufacturer",children:"Garment Manufacturer"}),(0,a.jsx)("option",{value:"clothing-retailer",children:"Clothing Retailer"}),(0,a.jsx)("option",{value:"fabric-importer",children:"Fabric Importer"}),(0,a.jsx)("option",{value:"trading-company",children:"Trading Company"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Annual Fabric Volume"}),(0,a.jsxs)("select",{name:"annualVolume",value:h.annualVolume,onChange:I,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[(0,a.jsx)("option",{value:"",children:"Select volume range"}),(0,a.jsx)("option",{value:"under-10k",children:"Under 10,000 meters"}),(0,a.jsx)("option",{value:"10k-50k",children:"10,000 - 50,000 meters"}),(0,a.jsx)("option",{value:"50k-100k",children:"50,000 - 100,000 meters"}),(0,a.jsx)("option",{value:"100k-500k",children:"100,000 - 500,000 meters"}),(0,a.jsx)("option",{value:"over-500k",children:"Over 500,000 meters"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Primary Markets"}),(0,a.jsx)("input",{type:"text",name:"primaryMarkets",value:h.primaryMarkets,onChange:I,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"e.g., North America, Europe, Asia"})]})]}),3===x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-3",children:"Fabric Types of Interest *"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["Cotton","Silk","Polyester","Blends","Linen","Wool","Technical","Denim"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:h.fabricTypes.includes(e),onChange:()=>{p(s=>({...s,fabricTypes:s.fabricTypes.includes(e)?s.fabricTypes.filter(s=>s!==e):[...s.fabricTypes,e]}))},className:"w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-slate-700",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Specifications & Requirements"}),(0,a.jsx)("textarea",{name:"specifications",value:h.specifications,onChange:I,rows:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Weight, width, color requirements, etc."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Timeline"}),(0,a.jsxs)("select",{name:"timeline",value:h.timeline,onChange:I,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[(0,a.jsx)("option",{value:"",children:"Select timeline"}),(0,a.jsx)("option",{value:"immediate",children:"Immediate (Within 1 month)"}),(0,a.jsx)("option",{value:"1-3-months",children:"1-3 months"}),(0,a.jsx)("option",{value:"3-6-months",children:"3-6 months"}),(0,a.jsx)("option",{value:"6-months-plus",children:"6+ months"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Additional Message"}),(0,a.jsx)("textarea",{name:"message",value:h.message,onChange:I,rows:4,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Any additional requirements or questions..."})]})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-8",children:[x>1&&(0,a.jsx)("button",{type:"button",onClick:F,disabled:w,className:"px-6 py-3 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50",children:"Previous"}),x<3?(0,a.jsx)("button",{type:"button",onClick:A,disabled:w,className:"ml-auto px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:"Next Step"}):(0,a.jsx)("button",{type:"submit",disabled:w,className:"ml-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center space-x-2",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Submitting..."})]}):(0,a.jsx)("span",{children:"Submit Quote Request"})})]})]})]})}}}]);